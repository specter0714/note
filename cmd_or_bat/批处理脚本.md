# bat脚本基本语法

## 1. 注释

```bash
:: 这是一个注释
REM 这也是一个注释
```

## 2. 变量赋值与取值

```bash
set a=John
echo %a%
```

## 3. 输入、输出与暂停

**pause**命令用于赞同批处理文件的执行,并提示用户按任意键继续。

**echo** 后面的文本是会输出的

```bash
REM /p 是读取的信息，等号后面可以直接写提示信息，会打印出来
set /p a=please_input_a_number
REM echo 后面可以直接接要输出的文本，然后再指定位置%a%，就相当于printf("----%d----", a);
echo hello,%a%
pause
```

## 4. 关闭命令回显

即 $@echo$   $off$  的效果，用于关闭命令回显功能。

```bash
@echo off
set /p a=
echo %a%
pause
```

## 5. 清屏

即 **cls** 的效果，将该指令之前的打印信息清空。

```bash
@echo off
set /p a=
cls
echo %a%
pause
```

## 6. 条件语句

简单的 **if** 语句

```bash
@echo off
set /P a=
cls
echo %a%
if "%a%"=="John" echo Hi, John!
pause
```

## 7. 循环语句

```bash
@echo off
for %%i in (1 2 3) do echo %%i
pause
```

## 8. 重定向

覆盖： >; 追加： >>。

**如果没有这些文件会创建文件**

**echo：**

* echo hello 是输出再窗口里
* echo hello > D:\abc.txt 是输出在文件并覆盖文件，文件不存在会自动创建

```bash
@echo off
echo Hello > C:\Users\zzx\test\output.txt
dir >> C:user\zzx\test\output.txt
pause
```

1. **dir**: 执行 dir 命令会获取当前目录的文件列表信息

2. **>>**: 将这些信息追加到。。。。。文件中

## 9. 切换路径与当前路径

```bash
cd ..
echo %cd% & REM 打印出当前路径
```

## 10. 切换盘符

直接输入盘符标识

```bash
C:
D:
```

## 11. 错误处理

检查上一个命令的执行状态，通过 **%ERRORLEVEL%** 判断

invalid_command 是一个不存在的指令，因此会触发错误，**%ERRORLEVEL%** 的值会变成非零（通常为1）

```bash
invalid_command
if %ERRORLEVEL%==0 echo Success
if %ERRORLEVEL% neq 0 echo Error occuerd
```

**neq:** 用于比较两个值，不相等为true

**注意：** 

* %ERRORLEVEL% 是批处理的内置环境变量

* 在批处理中，**几乎所有 “可执行的动作命令”（如赋值、输出、输入、文件操作等）都会更新 `%ERRORLEVEL%` 的值**，它始终反映的是 “上一条可执行命令” 的执行结果。

## 12. 一行中编写多条指令

**&** 将多条命令串联在一起，无论前一条命令是否成功，都会执行吓一跳命令

```bash
echo Hello & echo World
```

